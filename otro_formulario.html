<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gestión Publicaciones</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" href="css/estilos.css"></script>

</head>

 <nav>
  <a href="index.html">Inicio</a>
  <a href="users.html">Gestión Usuarios</a>
  <a href="otro_formulario.html">Publicaciones</a>
</nav>

<body>
  <h1>Gestión Publicaciones</h1>

  <form id="postForm" class="form-container" novalidate>
    <div class="form-group">
      <label for="userId">ID Usuario *</label>
      <input type="number" id="userId" name="userId">
      <div class="error-message" id="error-userId"></div>
    </div>

    <div class="form-group full-width">
      <label for="titulo">Título *</label>
      <input type="text" id="titulo" name="titulo">
      <div class="error-message" id="error-titulo"></div>
    </div>

    <div class="form-group full-width">
      <label for="contenido">Contenido *</label>
      <textarea id="contenido" name="contenido" rows="5"></textarea>
      <div class="error-message" id="error-contenido"></div>
    </div>

    <div class="buttons">
      <button type="button" id="guardarPostBtn">Guardar</button>
      <button type="button" id="cancelarPostBtn">Cancelar</button>
    </div>
  </form>

  <script>
    function resetPostErrores() {
      $("input, textarea").removeClass("error");
      $(".error-message").text("");
    }

    function validarPost() {
      resetPostErrores();
      let valido = true;

      const userId = $("#userId").val().trim();
      const titulo = $("#titulo").val().trim();
      const contenido = $("#contenido").val().trim();

      if (!userId || isNaN(userId) || userId <= 0) {
        valido = false;
        $("#userId").addClass("error");
        $("#error-userId").text("Ingrese un ID de usuario válido.");
      }

      if (!titulo) {
        valido = false;
        $("#titulo").addClass("error");
        $("#error-titulo").text("El título es obligatorio.");
      }

      if (!contenido) {
        valido = false;
        $("#contenido").addClass("error");
        $("#error-contenido").text("El contenido es obligatorio.");
      }

      return valido;
    }

    $(document).ready(function () {
      $("#guardarPostBtn").click(function () {
        if (validarPost()) {
          alert("Publicación guardada correctamente.");
          $("#postForm")[0].reset();
          resetPostErrores();
        }
      });

      $("#cancelarPostBtn").click(function () {
        $("#postForm")[0].reset();
        resetPostErrores();
      });
    });
  </script>
</body>
</html>
